/**
 * gama
 *
 * A practical math/geometry library for functional JavaScript, based on ramda.
 *
 * @version v0.2.1
 * @author jan.brecka@gmail.com
 * @license MIT
 */
require=function n(t,r,e){function u(o,a){if(!r[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[o]={exports:{}};t[o][0].call(s.exports,function(n){var r=t[o][1][n];return u(r?r:n)},s,s.exports,n,t,r,e)}return r[o].exports}for(var i="function"==typeof require&&require,o=0;o<e.length;o++)u(e[o]);return u}({gama:[function(n,t,r){var e=n("ramda"),u=r,i=e.sort(function(n,t){return n-t}),o=e.converge(e.append,e.head,e.tail);u.Point=function(n,t){return{x:n,y:t}},u.Vector=e.op(function(n,t){return e.cond([e.pipe(e.prop("x"),u.isPoint),e.pipe(e.props(["x","y"]),e.apply(u.subtract))],[e.alwaysTrue,e.identity])({x:n,y:t})}),u.Rectangle=function(n,t,r,e){return{x:n,y:t,width:r,height:e}},u.Polygon=function(n){return{vertices:n}},u.Circle=function(n,t){return{position:n,radius:t}},u.Matrix=function(n,t,r,e,u,i){return[n,t,0,r,e,0,u,i,1]},u.EmptyMatrix=function(){return u.Matrix(1,0,0,1,0,0)};var a=2*Math.PI;u.deg2rad=function(n){return n*a/360},u.rad2deg=function(n){return 360*n/a},u.isPoint=e.and(e.has("x"),e.has("y")),u.isVector=u.isPoint,u.add=e.op(function(n,t){return{x:n.x+t.x,y:n.y+t.y}}),u.subtract=e.op(function(n,t){return{x:t.x-n.x,y:t.y-n.y}}),u.length2=function(n){return n.x*n.x+n.y*n.y},u.length=e.pipe(u.length2,Math.sqrt),u.distance2=e.op(e.pipe(u.subtract,u.length2)),u.distance=e.op(e.pipe(u.distance2,Math.sqrt)),u.transformPoint=e.op(function(n,t){return u.Point(n[0]*t.x+n[3]*t.y+n[6],n[1]*t.x+n[4]*t.y+n[7])}),u.normal=function(n){return u.Vector(n.y,-n.x)},u.dot=e.curry(function(n,t){return n.x*t.x+n.y*t.y}),u.angle=e.op(function(n,t){return u.dot(n,t)/(u.length(n)*u.length(t))}),u.unit=function(n){var t=u.length(n);return u.Vector(n.x/t,n.y/t)},u.negate=function(n){return u.Vector(-n.x,-n.y)},u.scaleVector=e.op(e.useWith(function(n,t){return u.Vector(n.x*t.x,n.y*t.y)},e.cond([u.isVector,e.identity],[e.alwaysTrue,function(n){return u.Vector(n,n)}]),e.identity)),u.multiply=e.op(function(n,t){return[t[0]*n[0]+t[1]*n[3]+t[2]*n[6],t[0]*n[1]+t[1]*n[4]+t[2]*n[7],t[0]*n[2]+t[1]*n[5]+t[2]*n[8],t[3]*n[0]+t[4]*n[3]+t[5]*n[6],t[3]*n[1]+t[4]*n[4]+t[5]*n[7],t[3]*n[2]+t[4]*n[5]+t[5]*n[8],t[6]*n[0]+t[7]*n[3]+t[8]*n[6],t[6]*n[1]+t[7]*n[4]+t[8]*n[7],t[6]*n[2]+t[7]*n[5]+t[8]*n[8]]}),u.translate=e.op(function(n,t){var r=u.Matrix(1,0,0,1,n.x,n.y);return u.multiply(t,r)}),u.scale=e.curry(function(n,t){var r=u.Matrix(n.x,0,0,n.y,0,0);return u.multiply(t,r)}),u.rotate=e.op(function(n,t){var r=Math.cos(n),e=Math.sin(n),i=u.Matrix(r,e,-e,r,0,0);return u.multiply(t,i)}),u.rotateAboutPoint=e.curry(function(n,t,r){return e.pipe(u.translate(t),u.rotate(n),u.translate(u.negate(t)))(r)});var c=e.pipe(e.map(e.prop("x")),e.min),f=e.pipe(e.map(e.prop("y")),e.min),s=e.pipe(e.map(e.prop("x")),e.max),l=e.pipe(e.map(e.prop("y")),e.max);u.minVertex=function(n){return u.Point(c(n.vertices),f(n.vertices))},u.maxVertex=function(n){return u.Point(s(n.vertices),l(n.vertices))},u.boundingBox=function(n){var t=u.minVertex(n),r=u.maxVertex(n);return u.Rectangle(t.x,t.y,r.x-t.x,r.y-t.y)},u.axes=e.pipe(e.prop("vertices"),e.converge(e.zip,e.identity,o),e.map(e.apply(u.Vector))),u.transformPolygon=e.op(e.pipe(e.useWith(e.map,u.transformPoint,e.prop("vertices")),e.of,e.apply(u.Polygon))),u.isConcave=e.pipe(u.axes,e.converge(e.zip,e.identity,e.pipe(e.identity,o)),e.map(e.apply(u.dot)),e.and(e.some(e.gt(0)),e.some(e.lt(0)))),u.isConvex=e.not(u.isConcave),u.rectangle2polygon=function(n){return u.Polygon([u.Point(n.x,n.y),u.Point(n.x+n.width,n.y),u.Point(n.x+n.width,n.y+n.height),u.Point(n.x,n.y+n.height)])},u.projectPointToAxis=e.op(function(n,t){var r=(t.x*n.x+t.y*n.y)/(n.x*n.x+n.y*n.y);return u.Point(r*n.x,r*n.y)}),u.projectionsOverlap=e.op(function(n,t){return e.head(t)<=e.last(n)&&e.last(t)>=e.head(n)});var p=e.op(e.pipe(e.useWith(e.map,e.converge(e.pipe,u.projectPointToAxis,u.dot),e.prop("vertices")),i));u.testPointRectangle=e.op(function(n,t){return n.x>=t.x&&n.x<=t.x+t.width&&n.y>=t.y&&n.y<=t.y+t.height}),u.testPointCircle=e.op(function(n,t){return u.distance(t.position,n)<=t.radius}),u.testPointPolygon=e.op(e.useWith(e.pipe(function(n,t){return e.map(function(t){var r=t[1],e=t[0];return r.y>n.y!=e.y>n.y&&n.x<=(e.x-r.x)*(n.y-r.y)/(e.y-r.y)+r.x})(t)},e.reduce(function(n,t){return t?!n:n},!1)),e.identity,e.pipe(e.prop("vertices"),e.converge(e.zip,e.identity,e.pipe(e.identity,o))))),u.testCircleCircle=e.curry(function(n,t){return u.distance(n.position,t.position)<=n.radius+t.radius}),u.testPolygonPolygon=e.curry(function(n,t){var r=e.union(u.axes(n),u.axes(t));return!e.some(function(r){var e=p(u.negate(r));return!u.projectionsOverlap(e(n),e(t))})(r)})},{ramda:"ramda"}],ramda:[function(n,t,r){!function(n){"object"==typeof r?t.exports=n(this):"function"==typeof define&&define.amd?define(n):this.R=n(this)}(function(){"use strict";function n(){return new TypeError("Function called with no arguments")}function t(r,e,u){switch(arguments.length){case 0:throw n();case 1:return t(r,0,r.length);case 2:return t(r,e,r.length);default:for(var i=Math.max(0,u-e),o=new Array(i),a=-1;++a<i;)o[a]=r[e+a];return o}}function r(n,t){n=n||[],t=t||[];var r,e=n.length,u=t.length,i=new Array(e+u);for(r=-1;++r<e;)i[r]=n[r];for(r=-1;++r<u;)i[e+r]=t[r];return i}function e(t){return function(r,e){switch(arguments.length){case 0:throw n();case 1:return function(n){return t(r,n)};default:return t(r,e)}}}function u(t){return function(r,u,i){switch(arguments.length){case 0:throw n();case 1:return e(function(n,e){return t(r,n,e)});case 2:return function(n){return t(r,u,n)};default:return t(r,u,i)}}}function i(n,t){return null!=t&&!Z(t)&&"function"==typeof t[n]}function o(n,t){return function(r,e,u){var i=arguments.length,o=arguments[i-1],a=o&&!Z(o)&&"function"==typeof o[n];switch(arguments.length){case 0:return t();case 1:return a?o[n]():t(r);case 2:return a?o[n](r):t(r,e);case 3:return a?o[n](r,e):t(r,e,u)}}}function a(n,t){for(var r=-1,e=t.length;++r<e;)n(t[r]);return t}function c(n,t,r){switch(n&&F.call(n)){case"[object Object]":return f(n,{},t,r);case"[object Array]":return f(n,[],t,r);case"[object Function]":return n;case"[object Date]":return new Date(n);default:return n}}function f(n,t,r,e){for(var u=r.length,i=-1;++i<u;)if(n===r[i])return e[i];r.push(n),e.push(t);for(var o in n)t[o]=c(n[o],r,e);return t}function s(n,t){return r([n],t)}function l(n,t){return r(t,[n])}function p(n,t){return function(){return n.call(this,t.apply(this,arguments))}}function h(n,t){return function(){var r=this,e=t.apply(this,arguments);return g(e)?e.then(function(t){return n.call(r,t)}):n.call(this,e)}}function g(n){return null!=n&&n===Object(n)&&n.then&&"function"==typeof n.then}function y(t){return function(){switch(arguments.length){case 0:throw n();case 1:return arguments[0];default:for(var r=arguments.length-1,e=arguments[r],u=e.length;r--;)e=t(arguments[r],e);return tt(u,e)}}}function v(n){return function(r){var e=t(arguments,1);return tt(Math.max(0,r.length-e.length),function(){return r.apply(this,n(e,arguments))})}}function m(n,t){for(var r=-1,e=t.length,u=new Array(e);++r<e;)u[r]=n(t[r]);return u}function d(n,t){for(var r=-1,e=t.length,u=[];++r<e;)n(t[r])&&u.push(t[r]);return u}function x(n,t){for(var r=-1,e=t.length,u=[];++r<e;)n(t[r],r,t)&&u.push(t[r]);return u}function w(n,t){for(var r=-1;++r<t.length;)if(!n(t[r]))return!1;return!0}function b(n,t){for(var r=-1;++r<t.length;)if(n(t[r]))return!0;return!1}function P(n,t,r){var e=0,u=n.length;for("number"==typeof r&&(e=0>r?Math.max(0,u+r):r);u>e;){if(n[e]===t)return e;++e}return-1}function O(n,t,r){var e=n.length;for("number"==typeof r&&(e=0>r?e+r+1:Math.min(e,r+1));--e>=0;)if(n[e]===t)return e;return-1}function j(n,t){return P(t,n)>=0}function M(n,t,r){for(var e=-1,u=r.length;++e<u;)if(n(t,r[e]))return!0;return!1}function A(n){return function t(r){for(var e,u,i,o=[],a=-1,c=r.length;++a<c;)if($(r[a]))for(e=n?t(r[a]):r[a],u=-1,i=e.length;++u<i;)o.push(e[u]);else o.push(r[a]);return o}}function k(n){return function(t){return m(function(n){return[n,t[n]]},n(t))}}function E(n,t){for(var r,e={},u=Ut(t),i=u.length,o=-1;++o<i;)r=u[o],n(t[r],r,t)&&(e[r]=t[r]);return e}function I(n,t){var r={};return a(function(n){r[n]=t[n]},n),r}function C(n,t){for(var r=Bt(t),e=-1,u=r.length;++e<u;)n[r[e]]=t[r[e]];return n}function V(n,t,r){if(n===r)return!0;if(null==r)return!1;t.fn=t.fn||[],t.obj=t.obj||[];for(var e,u,i=-1,o=t.fn.length,a=-1,c=t.obj.length;++i<o;){if(e=t.fn[i],u=n[e],!(e in r))return!1;if(!u(r[e],r))return!1}for(;++a<c;)if(e=t.obj[a],n[e]!==r[e])return!1;return!0}function q(n){return function(r){var e=function(){var t=arguments;return n(function(n){return n.apply(null,t)},r)};return arguments.length>1?e.apply(null,t(arguments,1)):tt(Ht(Ct("length",r)),e)}}function T(n,t){return n+t}function W(n,t){return n*t}function N(n,t){return t>n}function R(n,t){return n>t}function z(t,r){return function(e){if(0===arguments.length)throw n();for(var u,i=-1,o=r;++i<e.length;)u=+e[i],t(u,o)&&(o=u);return o}}function L(n){return function(t,r){if(r&&r.length>0){for(var e,u=0,i=r[u],o=t(i);++u<r.length;)e=t(r[u]),n(e,o)&&(o=e,i=r[u]);return i}}}function S(n,t){var r,e=-1,u=n.length;if(null!=t){for(r=t;null!=r&&++e<u;)r=r[n[e]];return r}}function B(n,t){return m(function(t){return{key:n(t),val:t}},t)}function U(n){return function(t){return d(function(n){return"function"==typeof t[n]},n(t))}}var _,D={version:"0.8.0"},F=Object.prototype.toString,Z=Array.isArray||function(n){return null!=n&&n.length>=0&&"[object Array]"===F.call(n)},$=D.isArrayLike=function(n){return Z(n)?!0:n?"object"!=typeof n?!1:n instanceof String?!1:1===n.nodeType?!!n.length:0===n.length?!0:n.length>0?n.hasOwnProperty(0)&&n.hasOwnProperty(n.length-1):!1:!1};try{Object.defineProperty(D,"__",{writable:!1,value:_})}catch(G){D.__=_}var H=D.op=function(t){var r=t.length;if(2!==r)throw new Error("Expected binary function.");return function e(r,u){switch(arguments.length){case 0:throw n();case 1:return r===_?nt(Q(e)):Y(yt(t,r));default:return r===_?Y(vt(t,u)):t(r,u)}}},J=D.curryN=function(t,e){return function u(i){return tt(Math.max(t-(i&&i.length||0),0),function(){if(0===arguments.length)throw n();var o=r(i,arguments);return o.length>=t?e.apply(this,o):u(o)})}([])},K=D.curry=function(n){return J(n.length,n)},Q=D.flip=function(e){return function(u,i){switch(arguments.length){case 0:throw n();case 1:return function(n){return e.apply(this,[n,u].concat(t(arguments,1)))};default:return e.apply(this,r([i,u],t(arguments,2)))}}},X=D.nAry=function(n,t){switch(n){case 0:return function(){return t.call(this)};case 1:return function(n){return t.call(this,n)};case 2:return function(n,r){return t.call(this,n,r)};case 3:return function(n,r,e){return t.call(this,n,r,e)};case 4:return function(n,r,e,u){return t.call(this,n,r,e,u)};case 5:return function(n,r,e,u,i){return t.call(this,n,r,e,u,i)};case 6:return function(n,r,e,u,i,o){return t.call(this,n,r,e,u,i,o)};case 7:return function(n,r,e,u,i,o,a){return t.call(this,n,r,e,u,i,o,a)};case 8:return function(n,r,e,u,i,o,a,c){return t.call(this,n,r,e,u,i,o,a,c)};case 9:return function(n,r,e,u,i,o,a,c,f){return t.call(this,n,r,e,u,i,o,a,c,f)};case 10:return function(n,r,e,u,i,o,a,c,f,s){return t.call(this,n,r,e,u,i,o,a,c,f,s)};default:return t}},Y=D.unary=function(n){return X(1,n)},nt=D.binary=function(n){return X(2,n)},tt=D.arity=function(n,t){switch(n){case 0:return function(){return t.apply(this,arguments)};case 1:return function(n){return t.apply(this,arguments)};case 2:return function(n,r){return t.apply(this,arguments)};case 3:return function(n,r,e){return t.apply(this,arguments)};case 4:return function(n,r,e,u){return t.apply(this,arguments)};case 5:return function(n,r,e,u,i){return t.apply(this,arguments)};case 6:return function(n,r,e,u,i,o){return t.apply(this,arguments)};case 7:return function(n,r,e,u,i,o,a){return t.apply(this,arguments)};case 8:return function(n,r,e,u,i,o,a,c){return t.apply(this,arguments)};case 9:return function(n,r,e,u,i,o,a,c,f){return t.apply(this,arguments)};case 10:return function(n,r,e,u,i,o,a,c,f,s){return t.apply(this,arguments)};default:return t}},rt=D.invokerN=function(n,r){var e=t(arguments,2),u=n-e.length;return J(u+1,function(){var n=arguments[u],i=e.concat(t(arguments,0,u));return n[r].apply(n,i)})},et=D.useWith=function(n){var r=t(arguments,1),e=r.length;return K(tt(e,function(){for(var u=[],i=-1;++i<e;)u.push(r[i](arguments[i]));return n.apply(this,u.concat(t(arguments,e)))}))};D.forEach=e(a),D.forEach.idx=e(function(n,t){for(var r=-1,e=t.length;++r<e;)n(t[r],r,t);return t});var ut=D.clone=function(n){return t(n)};D.cloneDeep=function(n){return c(n,[],[])};var it=D.isEmpty=function(n){return null==n||0===n.length},ot=D.prepend=e(s);D.cons=ot,D.prependTo=Q(s);var at=D.nth=e(function(n,t){return 0>n?t[t.length+n]:t[n]}),ct=D.head=at(0);D.car=ct,D.last=at(-1);var ft=D.tail=o("tail",function(n){return t(n,1)});D.cdr=ft;var st=D.append=e(l);D.push=st,D.appendTo=Q(l),D.concat=e(function(n,t){if(Z(t))return r(n,t);if(i("concat",n))return n.concat(t);throw new TypeError("can't concat "+typeof n)});var lt=D.identity=function(n){return n};D.I=lt,D.argN=function(n){return function(){return arguments[n]}};var pt=D.times=e(function(n,t){for(var r=new Array(t),e=-1;++e<t;)r[e]=n(e);return r});D.repeatN=e(function(n,t){return pt(St(n),t)}),D.apply=e(function(n,t){return n.apply(this,t)}),D.unapply=function(r){if(0===arguments.length)throw n();return function(){return r(t(arguments))}};var ht=D.compose=y(p),gt=D.pCompose=y(h);D.pipe=function(){return ht.apply(this,Wt(arguments))},D.pPipe=function(){return gt.apply(this,Wt(arguments))};var yt=D.lPartial=v(r),vt=D.rPartial=v(Q(r));D.memoize=function(n){if(!n.length)return mt(n);var r={};return function(){if(arguments.length){var e=xt(function(n,t){return n[t]||(n[t]={})},r,t(arguments,0,arguments.length-1)),u=arguments[arguments.length-1];return e[u]||(e[u]=n.apply(this,arguments))}}};var mt=D.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments))}};D.wrap=function(n,t){return tt(n.length,function(){return t.apply(this,r([n],arguments))})};var dt=D.constructN=e(function(n,t){var r=function(){var n,r,e=function(){};return e.prototype=t.prototype,n=new e,r=t.apply(n,arguments),Object(r)===r?r:n};return n>1?K(X(n,r)):r});D.construct=function(n){return dt(n.length,n)},D.converge=function(n){var r=t(arguments,1);return function(){var t=arguments;return n.apply(this,m(function(n){return n.apply(this,t)},r))}};var xt=D.reduce=u(function(n,t,r){for(var e=-1,u=r.length;++e<u;)t=n(t,r[e]);return t});D.foldl=xt,D.reduce.idx=u(function(n,t,r){for(var e=-1,u=r.length;++e<u;)t=n(t,r[e],e,r);return t}),D.foldl.idx=xt.idx;var wt=D.reduceRight=u(o("reduceRight",function(n,t,r){for(var e=r.length;e--;)t=n(t,r[e]);return t}));D.foldr=wt,D.reduceRight.idx=u(function(n,t,r){for(var e=r.length;e--;)t=n(t,r[e],e,r);return t}),D.foldr.idx=wt.idx,D.unfoldr=e(function(n,t){for(var r=n(t),e=[];r&&r.length;)e.push(r[0]),r=n(r[1]);return e});var bt=D.map=e(o("map",m));D.map.idx=e(function(n,t){for(var r=-1,e=t.length,u=new Array(e);++r<e;)u[r]=n(t[r],r,t);return u}),D.mapObj=e(function(n,t){return xt(function(r,e){return r[e]=n(t[e]),r},{},Bt(t))}),D.mapObj.idx=e(function(n,t){return xt(function(r,e){return r[e]=n(t[e],e,t),r},{},Bt(t))}),D.scanl=u(function(n,t,r){var e=0,u=r.length+1,i=new Array(u);for(i[e]=t;++e<u;)t=n(t,r[e-1]),i[e]=t;return i});var Pt=D.liftN=e(function(r,e){var u=J(r,e);if(0===arguments.length)throw n();return J(r,function(){return xt(Ot,m(u,arguments[0]),t(arguments,1))})});D.lift=function(t){if(0===arguments.length)throw n();return Pt(t.length,t)};var Ot=D.ap=e(function(n,t){return i("ap",n)?n.ap(t):xt(function(n,e){return r(n,m(e,t))},[],n)});D.of=function(n,t){return i("of",t)?t.of(n):[n]},D.empty=function(n){return i("empty",n)?n.empty():[]},D.chain=e(o("chain",function(n,t){return Vt(m(n,t))}));var jt=D.commuteMap=u(function(n,t,r){function e(t,r){return Ot(bt(st,n(r)),t)}return xt(e,t([]),r)});D.commute=jt(bt(lt));var Mt=D.size=function(n){return n.length};D.length=Mt,D.filter=e(o("filter",d)),D.filter.idx=e(x);var At=function(n,t){return d(Zt(n),t)};D.reject=e(At),D.reject.idx=e(function(n,t){return x(Zt(n),t)}),D.takeWhile=e(o("takeWhile",function(n,r){for(var e=-1,u=r.length;++e<u&&n(r[e]););return t(r,0,e)})),D.take=e(o("take",function(n,r){return t(r,0,Math.min(n,r.length))})),D.skipUntil=e(function(n,r){for(var e=-1,u=r.length;++e<u&&!n(r[e]););return t(r,e)}),D.skip=e(o("skip",function(n,r){return n<r.length?t(r,n):[]})),D.find=e(function(n,t){for(var r=-1,e=t.length;++r<e;)if(n(t[r]))return t[r]}),D.findIndex=e(function(n,t){for(var r=-1,e=t.length;++r<e;)if(n(t[r]))return r;return-1}),D.findLast=e(function(n,t){for(var r=t.length;r--;)if(n(t[r]))return t[r]}),D.findLastIndex=e(function(n,t){for(var r=t.length;r--;)if(n(t[r]))return r;return-1}),D.every=e(w),D.some=e(b),D.indexOf=e(function(n,t){return P(t,n)}),D.indexOf.from=u(function(n,t,r){return P(r,n,t)}),D.lastIndexOf=e(function(n,t){return O(t,n)}),D.lastIndexOf.from=u(function(n,t,r){return O(r,n,t)}),D.contains=e(j);var kt=D.containsWith=u(M),Et=D.uniq=function(n){for(var t,r=-1,e=n.length,u=[];++r<e;)t=n[r],j(t,u)||u.push(t);return u};D.isSet=function(n){for(var t=n.length,r=-1;++r<t;)if(P(n,n[r],r+1)>=0)return!1;return!0};var It=D.uniqWith=e(function(n,t){for(var r,e=-1,u=t.length,i=[];++e<u;)r=t[e],M(n,r,i)||i.push(r);return i}),Ct=D.pluck=e(function(n,t){return m(zt(n),t)});D.flatten=A(!0);var Vt=D.unnest=A(!1);D.zipWith=u(function(n,t,r){for(var e=[],u=-1,i=Math.min(t.length,r.length);++u<i;)e[u]=n(t[u],r[u]);return e}),D.zip=e(function(n,t){for(var r=[],e=-1,u=Math.min(n.length,t.length);++e<u;)r[e]=[n[e],t[e]];return r}),D.zipObj=e(function(n,t){for(var r=-1,e=n.length,u={};++r<e;)u[n[r]]=t[r];return u});var qt=D.fromPairs=function(n){for(var t=-1,r=n.length,e={};++t<r;)Z(n[t])&&n[t].length&&(e[n[t][0]]=n[t][1]);return e},Tt=D.createMapEntry=e(function(n,t){var r={};return r[n]=t,r});D.lens=e(function(n,t){var r=function(t){return n(t)};return r.set=t,r.map=function(r,e){return t(r(n(e)),e)},r}),D.xprod=e(function(n,t){if(it(n)||it(t))return[];for(var r,e=-1,u=n.length,i=t.length,o=[];++e<u;)for(r=-1;++r<i;)o.push([n[e],t[r]]);return o});var Wt=D.reverse=function(n){for(var t=-1,r=n.length,e=r,u=new Array(r);++t<r;)u[--e]=n[t];return u};D.range=e(function(n,t){if(n>=t)return[];for(var r=0,e=new Array(Math.floor(t)-Math.ceil(n));t>n;)e[r++]=n++;return e}),D.join=rt(1,"join"),D.slice=rt(2,"slice"),D.slice.from=e(function(n,t){return t.slice(n,t.length)}),D.remove=u(function(n,e,u){return r(t(u,0,Math.min(n,u.length)),t(u,Math.min(u.length,n+e)))}),D.insert=u(function(n,e,u){return n=n<u.length&&n>=0?n:u.length,r(l(e,t(u,0,n)),t(u,n))}),D.insert.all=u(function(n,e,u){return n=n<u.length&&n>=0?n:u.length,r(r(t(u,0,n),e),t(u,n))});var Nt=D.comparator=function(n){return function(t,r){return n(t,r)?-1:n(r,t)?1:0}};D.sort=e(function(n,t){return ut(t).sort(n)});var Rt=D.groupBy=e(function(n,t){return xt(function(t,r){var e=n(r);return t[e]=l(r,t[e]||(t[e]=[])),t},{},t)});D.partition=e(function(n,t){return xt(function(t,r){return t[n(r)?0:1].push(r),t},[[],[]],t)}),D.tap=e(function(n,t){return n(t),t}),D.eq=e(function(n,t){return n===t});var zt=D.prop=function(t,r){switch(arguments.length){case 0:throw n();case 1:return function(n){return n[t]}}return r[t]};D.get=zt,D.propOf=Q(zt),D.props=e(function(n,t){for(var r=n.length,e=new Array(r),u=-1;++u<r;)e[u]=t[n[u]];return e});var Lt=Object.prototype.hasOwnProperty;D.propOr=u(function(n,t,r){return Lt.call(r,n)?r[n]:t}),D.has=e(function(n,t){return Lt.call(t,n)}),D.hasIn=e(function(n,t){return n in t}),D.func=function(r,e){switch(arguments.length){case 0:throw n();case 1:return function(n){return n[r].apply(n,t(arguments,1))};default:return e[r].apply(e,t(arguments,2))}};var St=D.always=function(n){return function(){return n}};D.bind=e(function(n,t){return function(){return n.apply(t,arguments)}});var Bt=D.keys=function(){var n=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return function(r){if(Object(r)!==r)return[];if(Object.keys)return Object.keys(r);var e,u,i=[];for(e in r)Lt.call(r,e)&&i.push(e);if(n)for(u=t.length;u--;)e=t[u],Lt.call(r,e)&&!j(e,i)&&i.push(e);return i}}(),Ut=D.keysIn=function(n){var t,r=[];for(t in n)r.push(t);return r};D.toPairs=k(Bt),D.toPairsIn=k(Ut),D.values=function(n){for(var t=Bt(n),r=t.length,e=new Array(r),u=-1;++u<r;)e[u]=n[t[u]];return e},D.valuesIn=function(n){var t,r=[];for(t in n)r.push(n[t]);return r},D.pick=e(function(n,t){return E(function(t,r){return j(r,n)},t)}),D.omit=e(function(n,t){return E(function(t,r){return!j(r,n)},t)}),D.pickBy=e(E);var _t=D.pickAll=e(I);D.mixin=e(function(n,t){return C(C({},n),t)}),D.cloneObj=function(n){return C({},n)},D.eqProps=u(function(n,t,r){return t[n]===r[n]}),D.where=function(t,r){var e=Rt(function(n){return"function"==typeof t[n]?"fn":"obj"},Bt(t));switch(arguments.length){case 0:throw n();case 1:return function(n){return V(t,e,n)}}return V(t,e,r)};var Dt=D.assoc=u(function(n,t,r){return C(qt(m(function(n){return[n,r[n]]},Ut(r))),Tt(n,t))});D.assocPath=function(){var r=function(n,e,u){if(1===n.length)return Dt(n[0],e,u);var i=u[n[0]];return Dt(n[0],r(t(n,1),e,Ft(Object,i)?i:{}),u)};return function(t,u,i){var o=arguments.length;if(0===o)throw n();var a=Kt(".",t),c=e(function(n,t){return r(a,n,t)});switch(o){case 1:return c;case 2:return c(u);default:return c(u,i)}}}(),D.installTo=function(n){return C(n,D)};var Ft=D.is=e(function(n,t){return null!=t&&t.constructor===n||t instanceof n});D.type=function(n){return null===n?"Null":void 0===n?"Undefined":F.call(n).slice(8,-1)},D.alwaysZero=St(0),D.alwaysFalse=St(!1),D.alwaysTrue=St(!0),D.and=e(function(n,t){return function(){return n.apply(this,arguments)&&t.apply(this,arguments)}}),D.or=e(function(n,t){return function(){return n.apply(this,arguments)||t.apply(this,arguments)}});var Zt=D.not=function(n){return function(){return!n.apply(this,arguments)}};D.allPredicates=q(w),D.anyPredicates=q(b);var $t=D.ifElse=u(function(n,t,r){return function(){return n.apply(this,arguments)?t.apply(this,arguments):r.apply(this,arguments)}});D["if"]=$t,D.cond=function(){var n=arguments;return function(){for(var t=-1;++t<n.length;)if(n[t][0].apply(this,arguments))return n[t][1].apply(this,arguments)}},D.add=e(T),D.multiply=e(W),D.subtract=H(function(n,t){return n-t}),D.divide=H(function(n,t){return n/t}),D.modulo=H(function(n,t){return n%t});var Gt=Number.isInteger||function(n){return n<<0===n};D.mathMod=H(function(n,t){return Gt(n)?!Gt(t)||1>t?0/0:(n%t+t)%t:0/0}),D.sum=xt(T,0),D.product=xt(W,1),D.lt=H(N),D.lte=H(function(n,t){return t>=n}),D.gt=H(R),D.gte=H(function(n,t){return n>=t});var Ht=D.max=z(R,-1/0);D.maxBy=e(L(R)),D.min=z(N,1/0),D.minBy=e(L(N));var Jt=D.substring=rt(2,"substring");D.substringFrom=Q(Jt)(void 0),D.substringTo=Jt(0),D.charAt=rt(1,"charAt"),D.charCodeAt=rt(1,"charCodeAt"),D.match=rt(1,"match"),D.replace=u(function(n,t,r){return r.replace(n,t)}),D.strIndexOf=e(function(n,t){return t.indexOf(n)}),D.strLastIndexOf=e(function(n,t){return t.lastIndexOf(n)}),D.toUpperCase=rt(0,"toUpperCase"),D.toLowerCase=rt(0,"toLowerCase"),D.trim=function(){var n="	\n\f\r   ᠎             　\u2028\u2029﻿",t="​",r="function"==typeof String.prototype.trim;return r&&!n.trim()&&t.trim()?function(n){return n.trim()}:function(t){var r=new RegExp("^["+n+"]["+n+"]*"),e=new RegExp("["+n+"]["+n+"]*$");return t.replace(r,"").replace(e,"")}}();var Kt=D.split=rt(1,"split"),Qt=D.pathOn=u(function(n,t,r){return S(t.split(n),r)});D.path=Qt("."),D.pathEq=u(function(n,t,r){return S(n.split("."),r)===t}),D.project=et(m,_t,lt),D.propEq=u(function(n,t,r){return r[n]===t}),D.union=ht(Et,r),D.unionWith=u(function(n,t,e){return It(n,r(t,e))}),D.difference=e(function(n,t){for(var r=[],e=-1,u=n.length;++e<u;)j(n[e],t)||j(n[e],r)||r.push(n[e]);return r}),D.differenceWith=u(function(n,t,r){for(var e=[],u=-1,i=t.length,o=kt(n);++u<i;)o(t[u],r)||o(t[u],e)||e.push(t[u]);return e}),D.intersection=e(function(n,t){return Et(d(Q(j)(n),t))}),D.intersectionWith=u(function(n,t,r){for(var e=[],u=-1;++u<t.length;)M(n,t[u],r)&&(e[e.length]=t[u]);return It(n,e)});var Xt=Nt(function(n,t){return n.key<t.key});return D.sortBy=e(function(n,t){return Ct("val",B(n,t).sort(Xt))}),D.countBy=e(function(n,t){return xt(function(n,t){return n[t.key]=(n[t.key]||0)+1,n},{},B(n,t))}),D.functions=U(Bt),D.functionsIn=U(Ut),D})},{}]},{},[]);